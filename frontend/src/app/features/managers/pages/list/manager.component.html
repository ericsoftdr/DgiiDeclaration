<div class="grid" >
    <p-toast />
    <p-confirmDialog />
	<div class="col-12">
		<div class="card">
			<h5>Asesores</h5>
			<p-table #dt1  [value]="filteredManager" dataKey="id" [rows]="10" [rowHover]="true" styleClass="p-datatable-gridlines" [paginator]="true" [globalFilterFields]="['managerName']" responsiveLayout="scroll">
				<ng-template pTemplate="caption">
					<div class="flex flex-column md:flex-row md:justify-content-start gap-2">
                        <p-button label="Nuevo" [raised]="true" (onClick)="redirectToCreate()"/>
						<span class="p-input-icon-left">
                            <i class="pi pi-search"></i>
                            <input type="search" pInputText placeholder="Busqueda..." [(ngModel)]="filterText" (ngModelChange)="filterData()" >
                        </span>
					</div>
				</ng-template>
				<ng-template pTemplate="header">
                    <tr>
                      <th>Nombre</th>
                      <th>Empresa</th>
                      <th>Acciones</th>
                    </tr>
                  </ng-template>
                  <ng-template pTemplate="body" let-manager>
                    <tr>
                        <td>{{ manager.managerName }}</td>
                        <td>{{ manager.businessName }}</td>
                        <td>
                            <div class="flex justify-content-center">
                                <p-button icon="pi pi-align-justify" (click)="showMenu($event, manager)" [rounded]="true" [text]="true" severity="secondary" />
                                <p-overlayPanel #op [for]="'op_' + manager.id" [showCloseIcon]="true">
                                    <div class="menu-content">
                                        <div>
                                            <p-button label="Link" icon="pi pi-eye" [link]="true" (click)="showDetails(selectedManager)" label="Detalle" />
                                        </div>
                                        <div>
                                            <p-button icon="pi pi-pencil" label="Editar" [link]="true" (click)="editCompany(selectedManager.id)" />
                                        </div>
                                        <div>
                                            <p-button label="Eliminar" icon="pi pi-eraser" [link]="true" (click)="deleteCompany($event)" />
                                        </div>
                                    </div>
                                </p-overlayPanel>
                            </div>
                        </td>
                    </tr>
                </ng-template>
    		</p-table>
		</div>
	</div>
</div>


